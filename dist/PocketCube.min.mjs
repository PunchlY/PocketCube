var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{SV:()=>f,k:()=>d,md:()=>y});const n=(...t)=>t.map((t=>[].concat(t))),o=new WeakMap,s=[...Array(8).keys()];function i(t,e){(t=~~t)||o.set(e,[[0,1,2,3,4,5,6,7],[0,0,0,0,0,0,0,0]]);const n=[],i=[];n.push((3-Array.from({length:7}).reduce(((e,o=t%3)=>(n.push(o),t=~~(t/3),e+o)),0)%3)%3),s.forEach((function(e){i.push(this.splice(t%(8-e),1)[0]),t=~~(t/(8-e))}),[...s]),e&&o.set(e,[i,n])}function r(t,e=y){const n=new e,[s,i]=o.get(t);return o.set(n,[[].concat(s),[].concat(i)]),n}const c=(t,e)=>{const[s,i]=o.get(t);for(const t of e){const[e,r]=n(s,i),[c,a]=o.get(t);c.forEach(((t,n)=>{s[n]=e[t],i[n]=(r[t]+a[n])%3}))}return t};class a{constructor(t=0){i(t,this)}at(t){const[e,n]=o.get(this);return 3*e.at(t)+n.at(t)}find(t){const[e,n]=o.get(this),s=e.indexOf(~~(t/3)%8);return 3*s+(3+t%3-n[s])%3}*[Symbol.iterator](){const[t,e]=o.get(this);for(let n=0;n<8;n++)yield 3*t[n]+e[n]}}Object.defineProperties(a.prototype,Object.assign({position:{get(){return function([t,e]){const n=[8];return e.slice(0,-1).reduceRight(((t,e)=>3*t+e),t.reduceRight(((t,e,o)=>{const s=n.findIndex((t=>e<t));return n.splice(s,0,e),t*(8-o)+s}),0))}(o.get(this))},set(t){i(t,this)}},length:{value:8},[Symbol.isConcatSpreadable]:{value:!0}},s.map((t=>({get(){const[e,n]=o.get(this);return 3*e[t]+n[t]}})))));class f extends a{constructor(t){super(t),Object.defineProperty(this,"position",{get:()=>t})}copy(){return r(this)}action(...t){return r(this).action(...t)}inverse(){return r(this).inverse()}image(){return r(this).image()}}!function(t){const{freeze:e}=Object,n=n=>e(new t(n));t.C=e([0,16219978,2469029,33104619,17954269,49605440,51565086,34630144,3470675,84669705,36364435,50607086,18222084,52672894,36822425,51396687,70206073,38451740,40288914,53569564,84835823,73463517,71102743,86465138].map(n)),t._C=e(s.map((n=>e([...t.C].sort(((t,e)=>t[n]-e[n])))))),t.X=e([t.C[14],t.C[18],t.C[8]]),t.Y=e([t.C[6],t.C[9],t.C[3]]),t.Z=[t.C[4],t.C[15],t.C[13]],t.R=e([77350359,68566824,50861415].map(n)),t.U=e([51438240,84505680,33067440].map(n)),t.F=e([21433374,84383208,62951382].map(n)),t.L=e([15944780,20238498,22807586].map(n)),t.D=e([37179,164025,126846].map(n)),t.B=e([4540624,5469687,929887].map(n))}(f||(f={}));const u=(h=function*(t,e,n=0){if(null===e||isNaN(e))for(const t of f.C)yield t;else yield f._C[n][t.find(e)]},function*(t,e,n,o){for(const s of f.C){const i=s.action(t);for(const t of h(i,n,o)){const n=i.copy().action(t),{position:o}=n;e.has(o)||(e.add(o),yield{r:n,c:[s,t]})}}});var h;const p=(l={"":0,2:1,"'":2},m=/^([RUFLDBXYZ](2|'|))*$/,g=/([RUFLDBXYZ])(2|'|)/g,function*(t){if(t=t.replace(/\s/g,""),!m.test(t))return!1;for(const[,e,n]of t.matchAll(g))yield f[e][l[n]]});var l,m,g,d;class y extends a{static get[Symbol.species](){return y}static from(t){return t instanceof a?r(t,this):"number"==typeof t?new this(t):void 0}copy(){return r(this,this.constructor[Symbol.species])}action(...t){return c(this,t)}inverse(){const[t,e]=o.get(this),[s,i]=n(t,e);return s.forEach(((n,o)=>{t[n]=o,e[n]=(3-i[o])%3})),this}image(){const[t,e]=o.get(this),[s,i]=n(t,e);return[1,0,3,2,5,4,7,6].forEach(((n,o,r)=>{t[o]=r[s[n]],e[o]=(3-i[n])%3})),this}isReinstated(){return[0,16219978,2469029,33104619,17954269,49605440,51565086,34630144,3470675,84669705,36364435,50607086,18222084,52672894,36822425,51396687,70206073,38451740,40288914,53569564,84835823,73463517,71102743,86465138][super[0]]===super.position}*similar(t,e){const n=new Set;for(const[o,s]of[this,r(this).image(),r(this).inverse(),r(this).image().inverse()].entries())if(!n.has(s.position))for(const i of u(s,n,t,e))yield{...i,image:!!(1&o),inverse:!!(2&o)}}*congruent(t,e){for(const n of u(this,new Set,t,e))yield{...n,image:!1,inverse:!1}}*similarNoCongruence(t,e){const n=new Set;for(const[o,s]of[,r(this).image(),r(this).inverse(),r(this).image().inverse()].entries())if(s&&!n.has(s.position))for(const i of u(s,n,t,e))yield{...i,image:!!(1&o),inverse:!!(2&o)}}do(t){return c(this,p(t))}}!function(t){const e=[...f.R,...f.U,...f.F],n=(n,o=1/0)=>async function*(){const s=new Set;let i=new Map([[new y(0),[]]]),r=new Map,c=0;for(;c-1<o&&i.size;){for(const[o,c]of i){const{position:i}=o;if(s.has(i))continue;const a={position:i,build:c};(()=>{for(const e of o.similarNoCongruence(0)){const{r:{position:n}}=e;if(s.has(n))return!1;n>a.position||(a.position=n,a.build=t.transform(c,e,0))}return!0})()&&(yield a);for(const{r:t}of o.congruent(0))s.add(t.position);n.filter((t=>!c.length||~~((c.at(-1)-t)/3))).forEach((t=>r.set(o.copy().action(e[t]),[...c,t]))),n.filter((t=>!c.length||~~((c.at(0)-t)/3))).forEach((t=>r.set(e[t].action(o),[t,...c])))}i=r,r=new Map,c++}};t.halfOrQuarter=n([0,2,3,5,6,8,1,4,7],11),t.quarter=n([0,2,3,5,6,8],14);const o=["R","R2","R'","U","U2","U'","F","F2","F'","L","L2","L'","D","D2","D'","B","B2","B'"],s=[[0,1,2,3,4,5],[1,2,0,4,5,3],[2,0,1,5,3,4],[2,1,3,5,4,0],[1,3,2,4,0,5],[3,2,1,0,5,4],[5,1,0,2,4,3],[1,0,5,4,3,2],[0,5,1,3,2,4],[3,1,5,0,4,2],[1,5,3,4,2,0],[5,3,1,2,0,4],[2,4,0,5,1,3],[4,0,2,1,3,5],[0,2,4,3,5,1],[3,4,2,0,1,5],[4,2,3,1,5,0],[2,3,4,5,0,1],[0,4,5,3,1,2],[4,5,0,1,2,3],[5,0,4,2,3,1],[5,4,3,2,1,0],[4,3,5,1,0,2],[3,5,4,0,2,1]],i=[s[14],s[18],s[8],s[6],s[9],s[3],s[4],s[15],s[13],s[8],s[18],s[14],s[3],s[9],s[6],s[13],s[15],s[4]],r=(c=function(t){return 3*this[~~(t/3)]+t%3},(t,e)=>e?t.map(c,s[e[0]]):t);var c;const a=(t,e=NaN)=>null===e||isNaN(e)?t:t.map((function(t){const n=1&e;return e>>=1,n^~~((t=3*this[~~(t/3)]+t%3)/9)&&this.map((t=>(e,n)=>this[n]=t[e])(i[t])),9*n+t%9}),[0,1,2,3,4,5]);t.transform=(t,{image:e,inverse:n,c:[o,s]},i=NaN)=>(e&&(t=t.map((t=>3*(~~(t/3)||3)+(2-t%3)))),n&&(t=t.reverse().map((t=>3*~~(t/3)+(2-t%3)))),a(r(t,(t=>e?t.image():t)(n?s:o.inverse())),i)),t.stringify=(t,e=NaN)=>a(t,e).map((t=>o[t])).join("")}(d||(d={}));var v=e.md,C=e.k,b=e.SV;export{v as Rubik,C as Solve,b as Turn};