var e={88:(e,t,r)=>{r.d(t,{CT:()=>a,h:()=>u,m:()=>R});const{freeze:n,isFrozen:s}=Object,o=n([...Array(8).keys()]),i=new WeakMap,a=i.get.bind(i),c=(...e)=>e.map((e=>[...e])),u=e=>null!==e&&!isNaN(e),l=new WeakMap,f=e=>{let t=l.get(e);if(u(t))return t;const[r,n]=a(e),s=[8];return t=n.slice(0,-1).reduceRight(((e,t)=>3*e+t),r.reduceRight(((e,t,r)=>{const n=s.findIndex((e=>t<e));return s.splice(n,0,t),e*(8-r)+n}),0)),l.set(e,t),t},p=(e,t)=>{l.set(e,t=(2147483647&t)%88179840),t||i.set(e,[[0,1,2,3,4,5,6,7],[0,0,0,0,0,0,0,0]]);const r=[],n=[];r.push((3-Array.from({length:7}).reduce(((e,n=t%3)=>(r.push(n),t/=3,t|=0,e+n)),0)%3)%3),o.forEach((function(e){n.push(this.splice(t%(8-e),1)[0]),t/=8-e,t|=0}),[...o]),i.set(e,[n,r])},h=([e,t],r)=>3*e.at(r)+t.at(r),m=(e,t)=>{t??=e.constructor[Symbol.species];const r=new t;return i.set(r,c(...a(e))),r},d=e=>s(e)?m(e):e,y=(e,t)=>{l.set(e=d(e),NaN);const[r,n]=a(e);for(const e of t){const[t,s]=c(r,n),[o,i]=a(e);o.forEach(((e,o)=>{r[o]=t[e],n[o]=(s[e]+i[o])%3}))}return e},g=(v=function*(e,t,r){if(u(t))yield R._Base[u(r)?r:~~(t/3)][e.find(t)];else for(const e of R.Base)yield e},function*(e,t,r,n){for(const s of R.Base){const o=s.action(e).readonly();for(const e of v(o,r,n)){const r=o.action(e).readonly(),{position:n}=r;t.has(n)||(t.add(n),yield{rubik:r,base:s,coordinate:e})}}});var v;const b=(B={"":0,2:1,"'":2},w=/^([RUFLDBXYZ](2|'|))*$/,N=/([RUFLDBXYZ])(2|'|)/g,function*(e){if(e=e.replace(/\s/g,""),!w.test(e))return!1;for(const[,t,r]of e.matchAll(N))yield R[t][B[r]]});var B,w,N;const E=[0,16219978,2469029,33104619,17954269,49605440,51565086,34630144,3470675,84669705,36364435,50607086,18222084,52672894,36822425,51396687,70206073,38451740,40288914,53569564,84835823,73463517,71102743,86465138];class R{static get[Symbol.species](){return this}constructor(e){p(this,e)}get position(){return f(this)}get length(){return 8}get[Symbol.isConcatSpreadable](){return!0}at(e){return h(a(this),e)}find(e){const[t,r]=a(this),n=t.indexOf(~~(e/3)%8);return 3*n+(3+e%3-r[n])%3}*[Symbol.iterator](){const e=a(this);for(let t=0;t<8;t++)yield h(e,t)}readonly(){return n(this)}copy(){return m(this)}action(...e){return y(this,e)}inverse(){return(e=>{l.set(e=d(e),NaN);const[t,r]=a(e),[n,s]=c(t,r);return n.forEach(((e,n)=>{t[e]=n,r[e]=(3-s[n])%3})),e})(this)}image(){return(e=>{l.set(e=d(e),NaN);const[t,r]=a(e),[n,s]=c(t,r);return[1,0,3,2,5,4,7,6].forEach(((e,o,i)=>{t[o]=i[n[e]],r[o]=(3-s[e])%3})),e})(this)}similar(e){const t=y(R.Base[e],[this,R.BaseT[e]]);return s(this)?t:(p(this,t.position),this)}static from(e){return e instanceof R?m(e,this[Symbol.species]):"number"==typeof e?new this[Symbol.species](e):void 0}do(e){return e?y(this,b(e)):this}isReinstated(){return E[h(a(this),0)]===f(this)}*similarly(e,t){const r=m(this,R).readonly(),n=new Set;for(const[s,o]of[this,r.image(),r.inverse(),r.image().inverse()].entries())if(!n.has(o.position))for(const r of g(o,n,e,t))yield{...r,image:!!(1&s),inverse:!!(2&s)}}*congruent(e,t){for(const r of g(this,new Set,e,t))yield{...r,image:!1,inverse:!1}}*similarlyNoCongruent(e,t){const r=m(this,R).readonly(),n=new Set;for(const[s,o]of[,r.image(),r.inverse(),r.image().inverse()].entries())if(o&&!n.has(o.position))for(const r of g(o,n,e,t))yield{...r,image:!!(1&s),inverse:!!(2&s)}}solve(e){return!1}}Object.defineProperties(R.prototype,o.map((e=>({get(){return h(a(this),e)},enumerable:!0})))),function(e){var t,r;e.isReadonly=s,e.readonly=n;const i=t=>new e(t).readonly();e.Base=n(E.map(i)),e.BaseT=n(e.Base.map((t=>e.Base[t.find(0)]))),e._Base=n(o.map((t=>n([...e.Base].sort(((e,r)=>e[t]-r[t])))))),t=[[14,18,8],[6,9,3],[4,15,13]].map((t=>n(t.map((t=>e.Base[t]))))),e.X=t[0],e.Y=t[1],e.Z=t[2],r=[[77350359,68566824,50861415],[51438240,84505680,33067440],[21433374,84383208,62951382],[15944780,20238498,22807586],[37179,164025,126846],[4540624,5469687,929887]].map((e=>n(e.map(i)))),e.R=r[0],e.U=r[1],e.F=r[2],e.L=r[3],e.D=r[4],e.B=r[5]}(R||(R={}))},774:(e,t,r)=>{r.d(t,{M:()=>p,Z:()=>f});var n=r(88);const s=[...n.m.R,...n.m.U,...n.m.F,...n.m.L,...n.m.D,...n.m.B],o=["R","R2","R'","U","U2","U'","F","F2","F'","L","L2","L'","D","D2","D'","B","B2","B'","X","X2","X'","Y","Y2","Y'","Z","Z2","Z'"],i=[,[1,2,0,4,5,3],[2,0,1,5,3,4],[2,1,3,5,4,0],[1,3,2,4,0,5],[3,2,1,0,5,4],[5,1,0,2,4,3],[1,0,5,4,3,2],[0,5,1,3,2,4],[3,1,5,0,4,2],[1,5,3,4,2,0],[5,3,1,2,0,4],[2,4,0,5,1,3],[4,0,2,1,3,5],[0,2,4,3,5,1],[3,4,2,0,1,5],[4,2,3,1,5,0],[2,3,4,5,0,1],[0,4,5,3,1,2],[4,5,0,1,2,3],[5,0,4,2,3,1],[5,4,3,2,1,0],[4,3,5,1,0,2],[3,5,4,0,2,1]],a=[14,18,8,6,9,3,4,15,13,8,18,14,3,9,6,13,15,4,14,18,8,6,9,3,4,15,13].map((e=>i[e])),c=(n.m.Base.map((e=>Array.from({length:24},(([t,r]=(0,n.CT)(e),s)=>i[3*t[s/3]+(r[s/3]+s)%3])))),Array.from({length:24},((e,t)=>n.m.Base.map((e=>i[e.find(t)]))))),u=c[0],l=c.map(((e,t)=>e[t]));class f extends Array{constructor(e){super(),super.push(...Array.from(e))}copy(){return new f(this)}mapping(e){return e?(super.forEach(((t,r)=>super[r]=3*e[~~(t/3)]+t%3)),this):this}base(e){return f.prototype.mapping.call(this,i[e]),this}coordinate(e){return f.prototype.mapping.call(this,u[e]),this}similar(e){const{mapping:t}=f.prototype;return t.call(this,i[e]),t.call(this,l[e]),this}image(){return super.forEach(((e,t)=>super[t]=3*(~~(e/3)||3)+(2-e%3))),this}inverse(){return super.reverse(),super.forEach(((e,t)=>super[t]=3*~~(e/3)+(2-e%3))),this}bits(e){const t=((e,t)=>e?t.reverse():t)(e<0&&(e=~e,!0),Array.from({length:this.length},((t=1&e)=>(e>>=1,t)))),r=[0,1,2,3,4,5];return t.forEach(((e,t)=>{let n=this[t];n=3*r[~~(n/3)]+n%3,e^~~(n/9)&&r.forEach(((e,t)=>r[t]=a[n]?.[e]??e)),super[t]=9*e+n%9})),this}stringify(){return super.map((e=>o[e])).join("")}}async function*p(e,t=1/0,r){const o=(0,n.h)(r)?3*r:null,i=new Set;let a=new Map([[n.m.Base[0],[]]]),c=new Map,u=0;for(;u-1<t&&a.size;){for(const[t,n]of a)if(!i.has(t.position)){(()=>{for(const{rubik:{position:e}}of t.similarlyNoCongruent(o,r))if(i.has(e))return!1;return!0})()&&(yield{rubik:t,build:n});for(const{rubik:{position:e}}of t.congruent(o,r))i.add(e);e.filter((e=>!n.length||~~((n.at(-1)-e)/3))).forEach((e=>c.set(t.action(s[e]).readonly(),[...n,e]))),e.filter((e=>!n.length||~~((n.at(0)-e)/3))).forEach((e=>c.set(s[e].action(t).readonly(),[e,...n])))}a=c,c=new Map,u++}}!function(e){function t(t){for(const{rubik:{position:n},image:s,inverse:o,base:i,coordinate:a}of t.similarly()){if(!(n in e.data))continue;const t=new f(e.data[n]);return o||t.inverse(),s&&t.image(),t.base((r=o?i.inverse():a,s?r.image():r)[0])}var r;return!1}e.solveRaw=t,n.m.prototype.solve=function(e=NaN){const r=t(this);return!!r&&((0,n.h)(e)&&r.bits(e),r.stringify())},e.solve=function(e,t=NaN){const r=new n.m(0).do(e);return!!r&&r.solve(t)},e.solveAll=function*(e,r=!1){const s=new n.m(0).do(e);if(!s)return!1;const o=t(s);if(!o)return!1;const i=1<<o.length;for(let e=0;e<i;e++)yield o.bits(r?~e:e).stringify()}}(p||(p={}))}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};(()=>{r.d(n,{ME:()=>t.M,Z5:()=>t.Z,md:()=>e.m});var e=r(88),t=r(774)})();var s=n.Z5,o=n.md,i=n.ME;export{s as Build,o as Rubik,i as Solver};